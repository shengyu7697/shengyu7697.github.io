<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <!-- Google Adsense -->
  <script async data-ad-client="ca-pub-8106207149031244" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- End Google Adsense -->
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-08PF7150CV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-08PF7150CV');
</script>
<!-- End Google Analytics -->

  
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-N29SVMB');</script>
<!-- End Google Tag Manager -->

  
  <title>ShengYu Talk</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Python, C++, OpenCV, Qt, Git 程式教學">
<meta property="og:type" content="website">
<meta property="og:title" content="ShengYu Talk">
<meta property="og:url" content="https://shengyu7697.github.io/page/33/index.html">
<meta property="og:site_name" content="ShengYu Talk">
<meta property="og:description" content="Python, C++, OpenCV, Qt, Git 程式教學">
<meta property="og:locale" content="zh-TW">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ShengYu Talk">
<meta name="twitter:description" content="Python, C++, OpenCV, Qt, Git 程式教學">
  
    <link rel="alternate" href="/atom.xml" title="ShengYu Talk" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N29SVMB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">ShengYu Talk</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首頁</a>
        
          <a class="main-nav-link" href="/categories/Python教學/">Python教學</a>
        
          <a class="main-nav-link" href="/categories/C-C-教學/">C/C++教學</a>
        
          <a class="main-nav-link" href="/archives">歸檔</a>
        
          <a class="main-nav-link" href="/tags">標籤</a>
        
          <a class="main-nav-link" href="/projects">Projects</a>
        
          <a class="main-nav-link" href="/about">關於我</a>
        
      </nav>
      <nav id="sub-nav">
        <a id="nav-linkedin-link" class="nav-icon" href="https://www.linkedin.com/in/shengyu-peng-48b664a6" rel="external nofollow noreferrer" title="Linkedin"></a>
        <a id="nav-facebook-link" class="nav-icon" href="https://www.facebook.com/shengyu7697" rel="external nofollow noreferrer" title="Facebook"></a>
        <a id="nav-github-link" class="nav-icon" href="https://github.com/shengyu7697" rel="external nofollow noreferrer" title="GitHub"></a>
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜尋"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜尋"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://shengyu7697.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-ubuntu-apt-file" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/ubuntu-apt-file/" class="article-date">
  <time datetime="2021-07-20T14:00:00.000Z" itemprop="datePublished">2021-07-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/ubuntu-apt-file/">Ubuntu apt-file 指令的用法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <!-- ads-1 -->
        <div id="ads-1">
  <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-8106207149031244"
    data-ad-slot="4194519399"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

        <!-- ads-1 -->
        <p>本篇 ShengYu 介紹 Ubuntu apt-file 指令的用法，當你知道缺少某個檔案，但不知道該檔案是在 apt 哪個套件中時，就可以用 <code>apt-file search</code> 來搜尋該檔案是在 apt 的哪個套件中，可以搜尋在 apt 管理的檔案，使用前要先安裝一下 apt-file，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install apt-file</span><br></pre></td></tr></table></figure></p>
<p>剛安裝完 apt-file 要先 update 一下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-file update</span><br></pre></td></tr></table></figure></p>
<p>舉個實際例子，某天我要啟動某程式發現有錯誤訊息，顯示找不到 libQt5SerialPort.so.5<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error while loading shared libraries: libQt5SerialPort.so.5: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure></p>
<p>這時使用 <code>apt-file search</code> 來搜尋一下 libQt5SerialPort.so.5 會出現在哪個套件以及的該套件安裝的檔案路徑<br>$ apt-file search libQt5SerialPort.so.5<br>libqt5serialport5: /usr/lib/x86_64-linux-gnu/libQt5SerialPort.so.5<br>libqt5serialport5: /usr/lib/x86_64-linux-gnu/libQt5SerialPort.so.5.5<br>libqt5serialport5: /usr/lib/x86_64-linux-gnu/libQt5SerialPort.so.5.5.1<br>根據上述結果，再來查看本機的路徑有沒有這個檔案，發現沒有！<br>$ ls /usr/lib/x86_64-linux-gnu/libQt5SerialPort.so.5<br>ls: cannot access ‘/usr/lib/x86_64-linux-gnu/libQt5SerialPort.so.5’: No such file or directory<br>所以就可以安裝一下該套件，安裝後再次檢查一下本機的路徑有沒有這個檔案，應該就會有了！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install libqt5serialport5</span><br><span class="line">$ ls /usr/lib/x86_64-linux-gnu/libQt5SerialPort.so.5</span><br><span class="line">/usr/lib/x86_64-linux-gnu/libQt5SerialPort.so.5</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shengyu7697.github.io/ubuntu-apt-file/" data-id="cm1dj0w4y00fc13pqwiqr37kj" data-title="Ubuntu apt-file 指令的用法" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-linux-dos2unix" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/linux-dos2unix/" class="article-date">
  <time datetime="2021-07-19T14:00:00.000Z" itemprop="datePublished">2021-07-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/linux-dos2unix/">Linux dos2unix 轉換 dos 換行字元用法與範例</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <!-- ads-1 -->
        <div id="ads-1">
  <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-8106207149031244"
    data-ad-slot="4194519399"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

        <!-- ads-1 -->
        <p>本篇 ShengYu 介紹 Linux dos2unix 去除 dos 換行字元用法與範例，另外一個相反的指令是 unix2dos。  </p>
<p>Windows/Dos 的換行是 <code>\r\n</code>，<br>Linux/Unix 的換行是 <code>\n</code>，<br>所以 Dos 環境下產生的文件拿到 Unix 就需要轉換換行字元，也就是將 <code>\r\n</code> 轉換成 <code>\n</code>，否則會極為不方便，  </p>
<h2><span id="ubuntu-安裝-dos2unix-指令">Ubuntu 安裝 dos2unix 指令</span></h2><p>Ubuntu 預設沒安裝 dos2unix 這個指令的話，可以自行透過 apt 來安裝，Ubuntu 要安裝 dos2unix 指令，透過下列指令安裝即可，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install dos2unix</span><br></pre></td></tr></table></figure></p>
<h2><span id="dos2unix-將-rn-轉換成-n">dos2unix 將 <code>\r\n</code> 轉換成 <code>\n</code></span></h2><p>dos2unix 將 <code>\r\n</code> 轉換成 <code>\n</code> 的指令使用方法如下，將會直接對原檔案 file.txt 直接修改<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dos2unix file.txt</span><br></pre></td></tr></table></figure></p>
<p><strong>其它相關文章推薦</strong><br><a href="/linux-tutorial/" title="Linux 常用指令教學懶人包">Linux 常用指令教學懶人包</a><br><a href="/linux-cut/" title="Linux cut 字串處理用法與範例">Linux cut 字串處理用法與範例</a><br><a href="/linux-find/" title="Linux find 尋找檔案/尋找資料夾用法與範例">Linux find 尋找檔案/尋找資料夾用法與範例</a><br><a href="/linux-grep-ack-ag/" title="Linux grep/ack/ag 搜尋字串用法與範例">Linux grep/ack/ag 搜尋字串用法與範例</a><br><a href="/linux-tee/" title="Linux tee 同時螢幕標準輸出和輸出到檔案用法與範例">Linux tee 同時螢幕標準輸出和輸出到檔案用法與範例</a><br><a href="/linux-xargs/" title="Linux xargs 參數列表轉換用法與範例">Linux xargs 參數列表轉換用法與範例</a><br><a href="/linux-tail/" title="Linux tail 持續監看檔案輸出用法與範例">Linux tail 持續監看檔案輸出用法與範例</a><br><a href="/linux-du/" title="Linux du 查詢硬碟剩餘空間/資料夾容量用法與範例">Linux du 查詢硬碟剩餘空間/資料夾容量用法與範例</a><br><a href="/linux-wget/" title="Linux wget 下載檔案用法與範例">Linux wget 下載檔案用法與範例</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shengyu7697.github.io/linux-dos2unix/" data-id="cm1dj0w4y00fb13pqv1j5l91i" data-title="Linux dos2unix 轉換 dos 換行字元用法與範例" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux-Command/">Linux Command</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shell-Script/">Shell Script</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-android-wifi-ip-address" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/android-wifi-ip-address/" class="article-date">
  <time datetime="2021-07-16T14:00:00.000Z" itemprop="datePublished">2021-07-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/android-wifi-ip-address/">Android 取得 WiFi ip address</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <!-- ads-1 -->
        <div id="ads-1">
  <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-8106207149031244"
    data-ad-slot="4194519399"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

        <!-- ads-1 -->
        <p>本篇 ShengYu 介紹 Android 取得 WiFi ip address 的寫法。  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">WifiManager wifiManager = (WifiManager) context.getSystemService(WIFI_SERVICE);</span><br><span class="line"><span class="keyword">int</span> ipAddress = wifiManager.getConnectionInfo().getIpAddress();</span><br><span class="line">String ip = String.format(<span class="string">"%d.%d.%d.%d"</span>,</span><br><span class="line">                          (ipAddress &amp; <span class="number">0xff</span>),</span><br><span class="line">                          (ipAddress &gt;&gt; <span class="number">8</span> &amp; <span class="number">0xff</span>),</span><br><span class="line">                          (ipAddress &gt;&gt; <span class="number">16</span> &amp; <span class="number">0xff</span>),</span><br><span class="line">                          (ipAddress &gt;&gt; <span class="number">24</span> &amp; <span class="number">0xff</span>));</span><br></pre></td></tr></table></figure>
<p>加入存取權限，需要在 AndroidManifest.xml 裡加入 <code>android.permission.ACCESS_WIFI_STATE</code>，其他是我可能會用到的也順便加入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;</span><br><span class="line">&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;</span><br><span class="line">&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;</span><br></pre></td></tr></table></figure></p>
<p>Context WIFI_SERVICE  |  Android Developers<br><a href="https://developer.android.com/reference/android/content/Context#WIFI_SERVICE" rel="noopener external nofollow noreferrer" target="_blank">https://developer.android.com/reference/android/content/Context#WIFI_SERVICE</a><br>cameraserve/AndroidManifest.xml at master · arktronic/cameraserve<br><a href="https://github.com/arktronic/cameraserve/blob/master/app/src/main/AndroidManifest.xml" rel="noopener external nofollow noreferrer" target="_blank">https://github.com/arktronic/cameraserve/blob/master/app/src/main/AndroidManifest.xml</a>  </p>
<p><strong>其它相關文章推薦</strong><br><a href="/android-mjpeg-streaming-app/" title="Android MJPEG Streaming App">Android MJPEG Streaming App</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shengyu7697.github.io/android-wifi-ip-address/" data-id="cm1dj0w4y00fa13pqciavsp0y" data-title="Android 取得 WiFi ip address" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-kotlin-print" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/kotlin-print/" class="article-date">
  <time datetime="2021-07-15T14:00:00.000Z" itemprop="datePublished">2021-07-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/kotlin-print/">Kotlin print 用法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <!-- ads-1 -->
        <div id="ads-1">
  <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-8106207149031244"
    data-ad-slot="4194519399"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

        <!-- ads-1 -->
        <p>本篇 ShengYu 介紹 Kotlin print 用法以及在 Android 下的 log 輸出用法。  </p>
<h2><span id="kotlin-print-用法">Kotlin print 用法</span></h2><p>Kotlin print 的用法如下，<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Hello Kotlin"</span>) <span class="comment">// 不換行</span></span><br><span class="line">println(<span class="string">"Hello Kotlin"</span>) <span class="comment">// 換行</span></span><br><span class="line">println(<span class="string">"I have "</span> + (<span class="number">2</span>*<span class="number">3</span>) + <span class="string">" books"</span>) <span class="comment">// Kotlin一樣可以用+來做串接</span></span><br><span class="line">println(<span class="string">"I have <span class="subst">$&#123;<span class="number">2</span>*<span class="number">3</span>&#125;</span> books"</span>) <span class="comment">// 另外可以透過"$&#123;"和"&#125;"把需要運算的算式、參數和方法放在這，就可以不用用+來做串接</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">2</span></span><br><span class="line">println(<span class="string">"I have <span class="subst">$&#123;i*<span class="number">3</span>&#125;</span> books"</span>)</span><br></pre></td></tr></table></figure></p>
<p>可以在 <a href="https://play.kotlinlang.org/" rel="noopener external nofollow noreferrer" target="_blank">Kotlin 線上編譯器</a>試試，輸出如下，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Hello KotlinHello Kotlin</span><br><span class="line">I have 6 books</span><br><span class="line">I have 6 books</span><br><span class="line">I have 6 books</span><br></pre></td></tr></table></figure></p>
<p>以下順便列出 Java 的寫法，方便對應，<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">System.out.print(<span class="string">"Hello Java"</span>); <span class="comment">// 不換行</span></span><br><span class="line">System.out.println(<span class="string">"Hello Java"</span>); <span class="comment">// 換行</span></span><br><span class="line">System.out.println(<span class="string">"I have "</span> + (<span class="number">2</span>*<span class="number">3</span>) + <span class="string">" books"</span>); <span class="comment">// 訊息中若有數字運算或是方法呼叫都必須透過+來串接</span></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">2</span>;</span><br><span class="line">System.out.println(<span class="string">"I have "</span> + (i*<span class="number">3</span>) + <span class="string">" books"</span>);</span><br></pre></td></tr></table></figure></p>
<p>可以在 <a href="https://ideone.com/" rel="noopener external nofollow noreferrer" target="_blank">Java 線上編譯器</a>試試，輸出如下，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hello JavaHello Java</span><br><span class="line">I have 6 books</span><br><span class="line">I have 6 books</span><br></pre></td></tr></table></figure></p>
<h2><span id="android-kotlin-log-用法">Android Kotlin Log 用法</span></h2><p>在 Android 用 Kotlin 輸出 log 時一樣要使用 Log.x 的方式才會在 adb logcat 上看到輸出，用法如下，<br><figure class="highlight kt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.util.Log</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> TAG = javaClass.simpleName <span class="comment">// Kotlin可以不用宣告型態，它會自行判斷</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">Log.d(TAG, <span class="string">"Hello Kotlin"</span>) <span class="comment">//程式碼結尾不需加";"</span></span><br><span class="line">Log.d(TAG, <span class="string">"I have <span class="subst">$&#123;<span class="number">2</span>*<span class="number">3</span>&#125;</span> books"</span>) <span class="comment">//這裏一樣可以透過"$&#123;"和"&#125;"把需要運算的算式、參數和方法放在這</span></span><br></pre></td></tr></table></figure></p>
<p>以下順便列出 Java 的寫法，方便對應，<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Log;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> String TAG = getClass().getSimpleName(); <span class="comment">// 需要宣告變數型態</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">Log.d(TAG, <span class="string">"Hello Java"</span>);</span><br><span class="line">Log.d(TAG, <span class="string">"I have "</span> + (<span class="number">2</span>*<span class="number">3</span>) + <span class="string">" books"</span>);</span><br></pre></td></tr></table></figure></p>
<p>線上編譯器<br>Kotlin Playground: Edit, Run, Share Kotlin Code Online<br><a href="https://play.kotlinlang.org/" rel="noopener external nofollow noreferrer" target="_blank">https://play.kotlinlang.org/</a><br>ideone<br><a href="https://ideone.com/" rel="noopener external nofollow noreferrer" target="_blank">https://ideone.com/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shengyu7697.github.io/kotlin-print/" data-id="cm1dj0w4x00f913pqljfew8lx" data-title="Kotlin print 用法" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Kotlin/">Kotlin</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ubuntu-arduino-ide" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/ubuntu-arduino-ide/" class="article-date">
  <time datetime="2021-07-13T14:00:00.000Z" itemprop="datePublished">2021-07-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Arduino/">Arduino</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/ubuntu-arduino-ide/">Ubuntu 安裝 Arduino IDE</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <!-- ads-1 -->
        <div id="ads-1">
  <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-8106207149031244"
    data-ad-slot="4194519399"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

        <!-- ads-1 -->
        <p>本篇 ShengYu 紀錄在 Ubuntu 16.04 下安裝 Arduino IDE，  </p>
<p>官網 Arduino IDE 下載連結：<a href="https://www.arduino.cc/en/software" rel="noopener external nofollow noreferrer" target="_blank">https://www.arduino.cc/en/software</a>  </p>
<p>目前最新的穩定版本是 Arduino IDE 1.8.15，  </p>
<p>官網提供的 Linux 安裝手冊連結：<a href="https://www.arduino.cc/en/Guide/Linux" rel="noopener external nofollow noreferrer" target="_blank">https://www.arduino.cc/en/Guide/Linux</a>  </p>
<p>執行 <code>./install.sh</code> 要用 sudo，否則建立軟連結時會失敗，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ ./install.sh </span><br><span class="line">Adding desktop shortcut, menu item and file associations for Arduino IDE...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ln: failed to create symbolic link &apos;/usr/local/bin/arduino&apos;: Permission denied</span><br><span class="line">Adding symlink failed. Hope that&apos;s OK. If not then rerun as root with sudo.</span><br><span class="line"> done!</span><br></pre></td></tr></table></figure></p>
<p>執行成功的輸出如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo ./install.sh </span><br><span class="line">Adding desktop shortcut, menu item and file associations for Arduino IDE...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> done!</span><br></pre></td></tr></table></figure></p>
<p>這樣就可以在 Ubuntu Dash 選單找到 arduino 應用程式的圖案了，<br>移除的話也是要用 sudo 執行唷，<code>sudo ./uninstall.sh</code>  </p>
<p>其它參考<br>如何在Ubuntu上安裝Arduino IDE - Ubuntu問答<br><a href="https://ubuntuqa.com/zh-tw/article/7920.html" rel="noopener external nofollow noreferrer" target="_blank">https://ubuntuqa.com/zh-tw/article/7920.html</a>  </p>
<p><strong>其它相關文章推薦</strong><br><a href="/install-arduino/" title="Ubuntu 安裝 Arduino 遇到的問題">Ubuntu 安裝 Arduino 遇到的問題</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shengyu7697.github.io/ubuntu-arduino-ide/" data-id="cm1dj0w4x00f813pq4l7smx8p" data-title="Ubuntu 安裝 Arduino IDE" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Arduino/">Arduino</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-cpp-static_cast" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/cpp-static_cast/" class="article-date">
  <time datetime="2021-07-12T14:00:00.000Z" itemprop="datePublished">2021-07-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C-C-教學/">C/C++教學</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/cpp-static_cast/">C++ static_cast 的用法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <!-- ads-1 -->
        <div id="ads-1">
  <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-8106207149031244"
    data-ad-slot="4194519399"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

        <!-- ads-1 -->
        <p>本篇 ShengYu 來介紹 C++ static_cast 的用法，  </p>
<h2><span id="傳統的強制轉型寫法">傳統的強制轉型寫法</span></h2><p>傳統的強制轉型寫法如下，有兩種，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(type-id)expression</span><br><span class="line">// 或者</span><br><span class="line">type-id(expression)</span><br></pre></td></tr></table></figure></p>
<p>實際上的例子，例如強制轉型成 int 的話，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int num2 = (int)num</span><br><span class="line">// 或者</span><br><span class="line">int num2 = int(num)</span><br></pre></td></tr></table></figure></p>
<h2><span id="static_cast-轉型寫法">static_cast 轉型寫法</span></h2><p>static_cast 轉型的寫法如下，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">static_cast&lt;type-id&gt;(expression)</span><br></pre></td></tr></table></figure></p>
<p>上述的例子使用 static_cast 轉型的寫法就會變成這樣，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int num2 = static_cast&lt;int&gt;(num)</span><br></pre></td></tr></table></figure></p>
<p><strong>其它相關文章推薦</strong><br><a href="/cpp-tutorial/" title="C/C++ 新手入門教學懶人包">C/C++ 新手入門教學懶人包</a><br><a href="/cpp-string-to-integer/" title="C/C++ 字串轉數字的4種方法">C/C++ 字串轉數字的4種方法</a><br><a href="/cpp-virtual/" title="C++ virtual 的兩種用法">C++ virtual 的兩種用法</a><br><a href="/cpp-string-reverse/" title="C/C++ 字串反轉 reverse">C/C++ 字串反轉 reverse</a><br><a href="/cpp-call-by-value-pointer-reference/" title="C/C++ call by value傳值, call by pointer傳址, call by reference傳參考 的差別">C/C++ call by value傳值, call by pointer傳址, call by reference傳參考 的差別</a><br><a href="/cpp-class-template/" title="C++ 類別樣板 class template">C++ 類別樣板 class template</a><br><a href="/std-sort/" title="std::sort 用法與範例">std::sort 用法與範例</a><br><a href="/std-find/" title="std::find 用法與範例">std::find 用法與範例</a><br><a href="/std-queue/" title="std::queue 用法與範例">std::queue 用法與範例</a><br><a href="/std-map/" title="std::map 用法與範例">std::map 用法與範例</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shengyu7697.github.io/cpp-static_cast/" data-id="cm1dj0w4x00f713pqetqkqbf0" data-title="C++ static_cast 的用法" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C-C/">C/C++</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ubuntu-joystick-tool" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/ubuntu-joystick-tool/" class="article-date">
  <time datetime="2021-07-11T14:00:00.000Z" itemprop="datePublished">2021-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/ubuntu-joystick-tool/">Ubuntu/Linux 測試搖桿的工具</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <!-- ads-1 -->
        <div id="ads-1">
  <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-8106207149031244"
    data-ad-slot="4194519399"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

        <!-- ads-1 -->
        <p>本篇 ShengYu 要介紹在 Ubuntu/Linux 下測試搖桿的工具，<br>我自己的話是會拿來測試我的 PS2 搖桿功能是否正常，  </p>
<h2><span id="jstest-命令列測試搖桿工具">jstest 命令列測試搖桿工具</span></h2><p>jstest 是命令列下的測試搖桿工具，安裝指令與使用方式如下，執行程式時，後面接上 device 名稱，例如：<code>/dev/input/js0</code>、<code>/dev/input/js1</code> 等等，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install joystick</span><br><span class="line">$ jstest /dev/input/js0</span><br></pre></td></tr></table></figure></p>
<p>使用畫面如下，<br><img src="/ubuntu-joystick-tool/jstest.png" title="jstest">  </p>
<h2><span id="jstest-gtk-圖形化測試搖桿工具">jstest-gtk 圖形化測試搖桿工具</span></h2><p>使用圖形化工具相對比命令列工具簡單省事許多，jstest-gtk 是圖形化測試搖桿工具，安裝指令與使用方式如下，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install jstest-gtk</span><br><span class="line">$ jstest-gtk</span><br></pre></td></tr></table></figure></p>
<p>使用畫面如下，<br><img src="/ubuntu-joystick-tool/jstest-gtk.png" title="jstest-gtk">  </p>
<p>其它參考<br>arduino (19): Use ESP32 to connect PS3 bluetooth controller, you need to connect successfully on windows, and then modify the mac address, then you can connect successfully, but it is currently under test and needs to be paired successfully on windows. - Programmer Sought<br><a href="https://www.programmersought.com/article/83835337908/" rel="noopener external nofollow noreferrer" target="_blank">https://www.programmersought.com/article/83835337908/</a>  </p>
<p><strong>其它相關文章推薦</strong><br><a href="/windows-joystick-tool/" title="Windows 10 測試搖桿的工具">Windows 10 測試搖桿的工具</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shengyu7697.github.io/ubuntu-joystick-tool/" data-id="cm1dj0w4w00f613pql4r56d8v" data-title="Ubuntu/Linux 測試搖桿的工具" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Software/">Software</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-windows-joystick-tool" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/windows-joystick-tool/" class="article-date">
  <time datetime="2021-07-10T14:00:00.000Z" itemprop="datePublished">2021-07-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/windows-joystick-tool/">Windows 10 測試搖桿的工具</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <!-- ads-1 -->
        <div id="ads-1">
  <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-8106207149031244"
    data-ad-slot="4194519399"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

        <!-- ads-1 -->
        <p>本篇 ShengYu 要介紹在 Windows 10 下測試搖桿的工具，我自己的話是會拿來測試我的 PS2 搖桿功能是否正常，  </p>
<h2><span id="在-windows-10-測試搖桿">在 Windows 10 測試搖桿</span></h2><p>按鍵盤上按下 <code>Window</code>+<code>R</code> 鍵進入 <code>執行</code> →在開啟右欄輸入 <code>joy.cpl</code>，按確定後就可以進到 <code>遊戲控制器</code> 畫面，  </p>
<p>使用畫面如下，找到 <code>joy.cpl</code> 並執行，<br><img src="/windows-joystick-tool/joy.cpl.png" title="joy.cpl">  </p>
<p><code>joy.cpl</code> 執行後可以看到 <code>遊戲控制器</code> 的視窗，<br>請點 <code>Generic USB Joystick</code> 再點選右下角的 <code>內容</code>，以我的一對二轉接頭的話，是顯示兩個 <code>Twin USB Joystick</code>，那就點選其中一個再按右下角的 <code>內容</code>，  </p>
<p>接下來在內容頁面(下圖右方視窗)的 <code>測試</code> 頁面可以測試搖桿的各按鍵有無問題，搖桿軸心位置不在中心點的話，請至 <code>設定</code> 頁面按 <code>校正</code> 進行校正。<br><img src="/windows-joystick-tool/joy.cpl-2.png" title="joy.cpl">  </p>
<p>以上就是 Windows 10 測試搖桿的工具的介紹，<br>如果你覺得我的文章寫得不錯、對你有幫助的話記得 <a href="https://www.facebook.com/shengyu7697/" rel="noopener external nofollow noreferrer" target="_blank">Facebook 按讚</a>支持一下！  </p>
<h2><span id="xbox-one-搖桿">Xbox One 搖桿</span></h2><img src="/windows-joystick-tool/xbox-one-controller-cover.jpg" title="xbox one controller">  
<p>在 PC 電腦上用搖桿玩遊戲最推薦使用 Xbox One 搖桿，原因是因為很多遊戲都有原生支援(因為 Xbox 是微軟自己的嘛!)，不用在另外設定按鍵，隨插即用真的是很方便，非常適合只想專心好好打電動的懶人族。  </p>
<p>對 Xbox One 搖桿有興趣的可以到以下通路購買，<br><a href="https://tinyurl.com/26w8h8md" rel="noopener external nofollow noreferrer" target="_blank">蝦皮商城</a>  </p>
<p><strong>其它相關文章推薦</strong><br><a href="/ubuntu-joystick-tool/" title="Ubuntu/Linux 測試搖桿的工具">Ubuntu/Linux 測試搖桿的工具</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shengyu7697.github.io/windows-joystick-tool/" data-id="cm1dj0w4w00f513pqv8bd825o" data-title="Windows 10 測試搖桿的工具" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Software/">Software</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Windows/">Windows</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-linux-uniq" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/linux-uniq/" class="article-date">
  <time datetime="2021-07-09T14:00:00.000Z" itemprop="datePublished">2021-07-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/linux-uniq/">Linux uniq 去除連續重複用法與範例</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <!-- ads-1 -->
        <div id="ads-1">
  <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-8106207149031244"
    data-ad-slot="4194519399"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

        <!-- ads-1 -->
        <p>本篇 ShengYu 介紹 Linux uniq 指令去除連續重複資料用法與範例。  </p>
<h2><span id="linux-uniq-指令將檔案內容去除連續重複">Linux uniq 指令將檔案內容去除連續重複</span></h2><p>以每一行為單位，相鄰兩行內容重複的話，uniq 將會去除重複的行，以數字為例，檔案內容如下，<br><figure class="highlight plain"><figcaption><span>input.txt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">1</span><br><span class="line">5</span><br><span class="line">2</span><br><span class="line">2</span><br><span class="line">2</span><br><span class="line">4</span><br><span class="line">3</span><br></pre></td></tr></table></figure></p>
<p>可以用 Linux uniq 的指令輕鬆達成去除連續重複資料，指令如下，會將結果輸出標準輸出，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ uniq input.txt</span><br><span class="line">1</span><br><span class="line">5</span><br><span class="line">2</span><br><span class="line">4</span><br><span class="line">3</span><br></pre></td></tr></table></figure></p>
<h2><span id="linux-uniq-指令將檔案內容去除重複非連續">Linux uniq 指令將檔案內容去除重複(非連續)</span></h2><p>如果是非連續的重複資料直接用 uniq 是沒有效果的，可以先用 sort 指令將內容排序後，這樣重複的資料就會出現在相鄰的位置，<br>這時再用 uniq 指令去除這些連續重複資料即可，<br><figure class="highlight plain"><figcaption><span>input2.txt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">1</span><br><span class="line">4</span><br><span class="line">3</span><br><span class="line">5</span><br><span class="line">4</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure></p>
<p>先用 sort 指令再用 uniq 去除連續重複資料指令如下，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ sort input2.txt | uniq</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure></p>
<p><strong>其它相關文章推薦</strong><br><a href="/linux-tutorial/" title="Linux 常用指令教學懶人包">Linux 常用指令教學懶人包</a><br><a href="/linux-cut/" title="Linux cut 字串處理用法與範例">Linux cut 字串處理用法與範例</a><br><a href="/linux-find/" title="Linux find 尋找檔案/尋找資料夾用法與範例">Linux find 尋找檔案/尋找資料夾用法與範例</a><br><a href="/linux-grep-ack-ag/" title="Linux grep/ack/ag 搜尋字串用法與範例">Linux grep/ack/ag 搜尋字串用法與範例</a><br><a href="/linux-tee/" title="Linux tee 同時螢幕標準輸出和輸出到檔案用法與範例">Linux tee 同時螢幕標準輸出和輸出到檔案用法與範例</a><br><a href="/linux-xargs/" title="Linux xargs 參數列表轉換用法與範例">Linux xargs 參數列表轉換用法與範例</a><br><a href="/linux-tail/" title="Linux tail 持續監看檔案輸出用法與範例">Linux tail 持續監看檔案輸出用法與範例</a><br><a href="/linux-du/" title="Linux du 查詢硬碟剩餘空間/資料夾容量用法與範例">Linux du 查詢硬碟剩餘空間/資料夾容量用法與範例</a><br><a href="/linux-wget/" title="Linux wget 下載檔案用法與範例">Linux wget 下載檔案用法與範例</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shengyu7697.github.io/linux-uniq/" data-id="cm1dj0w4v00f413pq3pp3qbjp" data-title="Linux uniq 去除連續重複用法與範例" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux-Command/">Linux Command</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shell-Script/">Shell Script</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-std-unique_ptr" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/std-unique_ptr/" class="article-date">
  <time datetime="2021-07-08T14:00:00.000Z" itemprop="datePublished">2021-07-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C-C-教學/">C/C++教學</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/std-unique_ptr/">C++ std::unique_ptr 用法與範例</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <!-- ads-1 -->
        <div id="ads-1">
  <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-8106207149031244"
    data-ad-slot="4194519399"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

        <!-- ads-1 -->
        <p>本篇 ShengYu 介紹 C++ 的 std::unique_ptr 用法與範例，unique_ptr 跟 <a href="/std-shared_ptr/" title="shared_ptr 用法">shared_ptr 用法</a>一樣，只是他的指標不能共享，是唯一無二的，</p>
<ul>
<li>初始化用法  </li>
<li>函式傳遞 unique_ptr  </li>
<li>使用 move 轉移 unique_ptr 擁有權  </li>
<li>函式回傳 unique_ptr  </li>
<li>unique_ptr 轉 shared_ptr  </li>
</ul>
<p><strong>需要引入的標頭檔</strong>：<code>&lt;memory&gt;</code>，編譯需要支援 C++11  </p>
<h2><span id="初始化用法">初始化用法</span></h2><p>使用 unique_ptr 初始化一個實體的範例如下，<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unique_ptr</span>&lt;Student&gt; s = make_unique&lt;Student&gt;();</span><br></pre></td></tr></table></figure></p>
<p>要注意的是 make_unique 這個輔助函式是在 C++14 才加入的，所以如果編譯器未支援 C++14 而使用了 make_unique 會出現編譯錯誤唷！  </p>
<p>不使用 make_unique 的寫法如下，但是比較不建議，因為會產生不連續記憶體區塊，比起一次分配連續記憶體區塊效能較差，<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unique_ptr</span>&lt;Student&gt; s = <span class="built_in">unique_ptr</span>&lt;Student&gt;(<span class="keyword">new</span> Student());</span><br></pre></td></tr></table></figure></p>
<h2><span id="函式傳遞-unique_ptr">函式傳遞 unique_ptr</span></h2><p>根據 unique_ptr 是唯一性的原則（不能被複製），所以在參數傳遞時不能使用傳值 call by value，而是要傳參考 call by reference，否則會編譯錯誤，範例如下，</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func1</span><span class="params">(<span class="built_in">unique_ptr</span>&amp; a)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func2</span><span class="params">(<span class="built_in">unique_ptr</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    func1(a);</span><br><span class="line">    func2(b); <span class="comment">// 編譯錯誤</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="使用-move-轉移-unique_ptr-擁有權">使用 move 轉移 unique_ptr 擁有權</span></h2><p>前面提到說不能複製，但移動總可以了吧！可以的</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//class Student;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">unique_ptr</span>&lt;Student&gt; s1 = make_unique&lt;Student&gt;();</span><br><span class="line"></span><br><span class="line"><span class="built_in">unique_ptr</span>&lt;Student&gt; s2 = s1; <span class="comment">// 編譯錯誤</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">unique_ptr</span>&lt;Student&gt; s3 = move(s1); <span class="comment">// 移動到 s2, 之後不能去使用 s1</span></span><br></pre></td></tr></table></figure>
<h2><span id="函式回傳-unique_ptr">函式回傳 unique_ptr</span></h2><p>前面提到 unique_ptr 不能複製，那函式要回傳 unique_ptr 要怎麼使用？<br>直接回傳 unique_ptr，如下範例，詳細討論可以看<a href="https://stackoverflow.com/questions/4316727/returning-unique-ptr-from-functions" rel="noopener external nofollow noreferrer" target="_blank">這篇</a><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unique_ptr</span>&lt;Student&gt; func1() &#123;</span><br><span class="line">    <span class="keyword">auto</span> s = make_unique&lt;Student&gt;();</span><br><span class="line">    <span class="comment">// or</span></span><br><span class="line">    <span class="comment">// unique_ptr&lt;Student&gt; s = unique_ptr&lt;Student&gt;(new Student());</span></span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> s = func1();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2><span id="unique_ptr-轉-shared_ptr">unique_ptr 轉 shared_ptr</span></h2><p>unique_ptr 轉 shared_ptr 有兩種方式，一種是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shared_ptr&lt;Size&gt; s = make_unique&lt;Size&gt;();</span><br></pre></td></tr></table></figure></p>
<p>另一種是使用 move，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">unique_ptr&lt;Size&gt; s1 = make_unique&lt;Size&gt;();</span><br><span class="line">shared_ptr&lt;Size&gt; s2 = move(s1);</span><br></pre></td></tr></table></figure></p>
<p>反過來 shared_ptr 轉 unique_ptr 則不行。  </p>
<p>其他參考文章<br>std::unique_ptr - cppreference.com<br><a href="https://en.cppreference.com/w/cpp/memory/unique_ptr" rel="noopener external nofollow noreferrer" target="_blank">https://en.cppreference.com/w/cpp/memory/unique_ptr</a><br>c++ - Returning unique_ptr from functions - Stack Overflow<br><a href="https://stackoverflow.com/questions/4316727/returning-unique-ptr-from-functions" rel="noopener external nofollow noreferrer" target="_blank">https://stackoverflow.com/questions/4316727/returning-unique-ptr-from-functions</a>  </p>
<p><strong>其它相關文章推薦</strong><br>如果你想學習 C++ 相關技術，可以參考看看下面的文章，<br><a href="/cpp-tutorial/" title="C/C++ 新手入門教學懶人包">C/C++ 新手入門教學懶人包</a><br><a href="/std-shared_ptr/" title="std::shared_ptr 用法與範例">std::shared_ptr 用法與範例</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shengyu7697.github.io/std-unique_ptr/" data-id="cm1dj0w4v00f313pqk1ogcli4" data-title="C++ std::unique_ptr 用法與範例" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C-C/">C/C++</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/32/">&laquo; 上一頁</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/31/">31</a><a class="page-number" href="/page/32/">32</a><span class="page-number current">33</span><a class="page-number" href="/page/34/">34</a><a class="page-number" href="/page/35/">35</a><span class="space">&hellip;</span><a class="page-number" href="/page/87/">87</a><a class="extend next" rel="next" href="/page/34/">下一頁 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">精選文章</h3>
    <div class="widget">
      <ul>
        
          <li><a href="/python-tutorial/">Python 基礎教學目錄</a></li>
        
          <li><a href="/cpp-tutorial/">C/C++ 入門教學目錄</a></li>
        
          <li><a href="/linux-tutorial/">Linux 常用指令教學懶人包</a></li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/dependency-inversion-principle/">設計原則 - 依賴反轉原則 Dependency Inversion Principle</a>
          </li>
        
          <li>
            <a href="/interface-segregation-principle/">設計原則 - 介面隔離原則 Interface Segregation Principle</a>
          </li>
        
          <li>
            <a href="/liskov-substitution-principle/">設計原則 - 里氏替換原則 Liskov Substitution Principle</a>
          </li>
        
          <li>
            <a href="/open-closed-principle/">設計原則 - 開放封閉原則 Open-Closed Principle</a>
          </li>
        
          <li>
            <a href="/single-responsibility-principle/">設計原則 - 單一職責原則 Single Responsibility Principle</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">粉絲專頁</h3>
    <iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fshengyu7697&tabs=timeline&width=280&height=500&small_header=true&adapt_container_width=true&hide_cover=false&show_facepile=true&appId" width="280" height="500" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分類</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Arduino/">Arduino</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-C-教學/">C/C++教學</a><span class="category-list-count">221</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Github/">Github</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git教學/">Git教學</a><span class="category-list-count">20</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OpenCV教學/">OpenCV教學</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP教學/">PHP教學</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Projects/">Projects</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python教學/">Python教學</a><span class="category-list-count">239</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Qt教學/">Qt教學</a><span class="category-list-count">7</span></li></ul>
    </div>
  </div>


  
    <div class="widget-wrap" style="position:sticky; position:-webkit-sticky; top:0;">
  <!-- ads-3 -->
  <div id="ads-3">
  <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-8106207149031244"
    data-ad-slot="8896181732"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
  <script>
   (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

  <!-- ads-3 -->
</div>
<script>
  function setSidebarHeight(sidebar) {
    let ad1h = document.getElementById("ads-1").clientHeight; // 280
    //let ad2h = document.getElementById("ads-2").clientHeight; // 280
    let ad3h = document.getElementById("ads-3").clientHeight; // 600
    let ad4h = 0;
    let elem = document.getElementById("ads-4");
    if (elem != null) {
      ad4h = elem.clientHeight; // 447
    }
    let mainh = document.getElementById("main").clientHeight;
    let sidebarh = mainh + ad1h + ad4h - ad3h;
    sidebar.style.height = sidebarh+"px";
    console.log("set sidebar height = " + sidebarh + "px (" + mainh + "+" + ad1h + "+" + ad4h + "-" + ad3h + ")");
  }

  function fixSidebarHeight() {
    let sidebar = document.getElementById("sidebar");
    console.log("sidebar height is " + sidebar.style.height);

    if (sidebar.style.height == "auto") {
      console.log("sidebar height is auto !, fix it.");
      setSidebarHeight(sidebar);
    }

    const observer = new MutationObserver(function (mutations, observer) {
      console.log("observer sidebar height is " + sidebar.style.height);
      if (sidebar.style.height == "auto") {
        setSidebarHeight(sidebar);
      }
    });

    observer.observe(sidebar, {
      attributes: true,
      attributeFilter: ['style']
    });
  }

  console.log("width = " + window.innerWidth);
  if (window.innerWidth >= 768) {
    console.log("width >= 768");
    fixSidebarHeight();
  } else {
    console.log("width < 768");
  }
</script>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 ShengYu<br>
      Powered by <a href="http://hexo.io/" rel="external nofollow noreferrer" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首頁</a>
  
    <a href="/categories/Python教學/" class="mobile-nav-link">Python教學</a>
  
    <a href="/categories/C-C-教學/" class="mobile-nav-link">C/C++教學</a>
  
    <a href="/archives" class="mobile-nav-link">歸檔</a>
  
    <a href="/tags" class="mobile-nav-link">標籤</a>
  
    <a href="/projects" class="mobile-nav-link">Projects</a>
  
    <a href="/about" class="mobile-nav-link">關於我</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>